/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.81
 * Generated at: 2022-11-27 02:35:56 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.prof;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class main_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(3);
    _jspx_dependants.put("jar:file:/D:/A_TeachingMaterial/6.JspSpring/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FinalProject/WEB-INF/lib/jstl-1.2.jar!/META-INF/c.tld", Long.valueOf(1153352682000L));
    _jspx_dependants.put("/WEB-INF/lib/jstl-1.2.jar", Long.valueOf(1662347357502L));
    _jspx_dependants.put("/WEB-INF/views/prof/./main_js.jsp", Long.valueOf(1669516539085L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSP들은 오직 GET, POST 또는 HEAD 메소드만을 허용합니다. Jasper는 OPTIONS 메소드 또한 허용합니다.");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<head>\r\n");
      out.write("<style>\r\n");
      out.write(".grid-stack-item{\r\n");
      out.write("   padding :20px;\r\n");
      out.write("}\r\n");
      out.write(".grid-stack-item-content{\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".card{\r\n");
      out.write("   margin-bottom: 0px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".shakeCard {\r\n");
      out.write("    animation-name: shake;\r\n");
      out.write("    animation-duration: 0.7s;\r\n");
      out.write("    animation-iteration-count: infinite;\r\n");
      out.write("}\r\n");
      out.write("@keyframes shake {\r\n");
      out.write("    0% {\r\n");
      out.write("        transform: rotate(0deg)\r\n");
      out.write("    }\r\n");
      out.write("    25% {\r\n");
      out.write("        transform: rotate(-0.5deg);\r\n");
      out.write("    }\r\n");
      out.write("    50% {\r\n");
      out.write("        transform: rotate(0.5deg);\r\n");
      out.write("    }\r\n");
      out.write("    75% {\r\n");
      out.write("        transform: rotate(-0.5deg);\r\n");
      out.write("    }\r\n");
      out.write("    100% {\r\n");
      out.write("        transform: rotate(0.5deg);\r\n");
      out.write("    }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("<link href=\"");
      out.print(request.getContextPath());
      out.write("/resources/css/gridstack.min.css\" rel=\"stylesheet\" />\r\n");
      out.write("<link rel=\"stylesheet\" href=\"");
      out.print(request.getContextPath() );
      out.write("/resources/bootstrap/assets/vendor/multi-select/css/multi-select.css\">\r\n");
      out.write("<!-- <meta name=\"robots\" content=\"noindex, nofollow\"> -->\r\n");
      out.write("<script nonce=\"38fdc5de-d9a7-45da-afae-765026c93c2c\">\r\n");
      out.write("// (function(w,d){!function(Z,_,ba,bb){Z.zarazData=Z.zarazData||{};Z.zarazData.executed=[];Z.zaraz={deferred:[],listeners:[]};Z.zaraz.q=[];Z.zaraz._f=function(bc){return function(){var bd=Array.prototype.slice.call(arguments);Z.zaraz.q.push({m:bc,a:bd})}};for(const be of[\"track\",\"set\",\"debug\"])Z.zaraz[be]=Z.zaraz._f(be);Z.zaraz.init=()=>{var bf=_.getElementsByTagName(bb)[0],bg=_.createElement(bb),bh=_.getElementsByTagName(\"title\")[0];bh&&(Z.zarazData.t=_.getElementsByTagName(\"title\")[0].text);Z.zarazData.x=Math.random();Z.zarazData.w=Z.screen.width;Z.zarazData.h=Z.screen.height;Z.zarazData.j=Z.innerHeight;Z.zarazData.e=Z.innerWidth;Z.zarazData.l=Z.location.href;Z.zarazData.r=_.referrer;Z.zarazData.k=Z.screen.colorDepth;Z.zarazData.n=_.characterSet;Z.zarazData.o=(new Date).getTimezoneOffset();Z.zarazData.q=[];for(;Z.zaraz.q.length;){const bl=Z.zaraz.q.shift();Z.zarazData.q.push(bl)}bg.defer=!0;for(const bm of[localStorage,sessionStorage])Object.keys(bm||{}).filter((bo=>bo.startsWith(\"_zaraz_\"))).forEach((bn=>{try{Z.zarazData[\"z_\"+bn.slice(7)]=JSON.parse(bm.getItem(bn))}catch{Z.zarazData[\"z_\"+bn.slice(7)]=bm.getItem(bn)}}));bg.referrerPolicy=\"origin\";bg.src=\"/cdn-cgi/zaraz/s.js?z=\"+btoa(encodeURIComponent(JSON.stringify(Z.zarazData)));bf.parentNode.insertBefore(bg,bf)};[\"complete\",\"interactive\"].includes(_.readyState)?zaraz.init():Z.addEventListener(\"DOMContentLoaded\",zaraz.init)}(w,d,0,\"script\");})(window,document);\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("<div class=\"container-fluid\">\r\n");
      out.write("	<div class=\"\" style=\"position:relative; border:0px solid red;\">\r\n");
      out.write("		<div class=\"grid-stack\" style=\"\">\r\n");
      out.write("		\r\n");
      out.write("		   \r\n");
      out.write("		  \r\n");
      out.write("<!-- 		</div>그리드 끝 -->\r\n");
      out.write("	</div>\r\n");
      out.write("\r\n");
      out.write("</div><!-- 본문끝 -->\r\n");
      out.write("<!-- <button onclick=\"loadGrid()\" href=\"javascript:void(0);\"> -->\r\n");
      out.write("<!-- 	<h1><i class=\"fas fa-save\">로드확인용! 아래쪽 textarea랑 나중에지울거임</i></h1> -->\r\n");
      out.write("<!-- </button></br> -->\r\n");
      out.write("<!-- <textarea id=\"saved-data\" cols=\"100\" rows=\"20\" readonly=\"readonly\"></textarea> -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- Modal -->\r\n");
      out.write("<div id=\"widgetModal\" class=\"modal modal-default fade\" role=\"dialog\">\r\n");
      out.write("  <div class=\"modal-dialog\">\r\n");
      out.write("    <!-- Modal content-->\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h3 class=\"modal-title\">위젯 추가하기</h3>\r\n");
      out.write("        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" onclick=\"f_editEnd()\">&times;</button>        \r\n");
      out.write("      </div>\r\n");
      out.write("      \r\n");
      out.write("      <div class=\"row mt-3\">\r\n");
      out.write("     	<div class=\"col-xl-6\" style=\"font-size:1.2em; left:12%;\"><strong>전체 위젯 목록</strong></div>\r\n");
      out.write("     	<div class=\"col-xl-6\" style=\"font-size:1.2em; left:12%;\"><strong>사용중인 위젯</strong></div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\" data-rno>\r\n");
      out.write("		<select id='callbacks' multiple='multiple'>\r\n");
      out.write("		<option value='notWid' data-li='noticeWidget' onclick=\"f_editStart()\">학사공지(4x2)</option>\r\n");
      out.write("		<option value='calWid' data-li='calWidget'onclick=\"f_editStart()\">학사일정(5x4)</option>\r\n");
      out.write("		<option value='busWid' data-li='busWidget'onclick=\"f_editStart()\">버스노선도(4x2)</option>\r\n");
      out.write("		<option value='weatherWid' data-li='weatherWidget'onclick=\"f_editStart()\">날씨(4x2)</option>\r\n");
      out.write("		<option value='bookmarkWid' data-li='bookmarkWidget'onclick=\"f_editStart()\">북마크(2x2)</option>\r\n");
      out.write("		<option value='timeWid' data-li='timeWidget'onclick=\"f_editStart()\">강의시간표(4x4)</option>\r\n");
      out.write("		<option value='counselWid' data-li='counselWidget'onclick=\"f_editStart()\">지도학생관리(4x2)</option>\r\n");
      out.write("		<option value='assignWid' data-li='assignWidget'onclick=\"f_editStart()\">과제제출현황(3x2)</option>\r\n");
      out.write("		</select>\r\n");
      out.write("      </div>\r\n");
      out.write("      \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\" onclick=\"f_editEnd()\">Close</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div><!-- Modal End -->\r\n");
      out.write("\r\n");
      out.write("<div id=\"busOrignDiv\" style=\"display:none; position:absolute; left:0px; top:0px;\">\r\n");
      out.write("<img id=\"busOrign\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/resources/img/bus.jpg\" alt=\"건영대학교 셔틀버스 노선도\" height=\"450px\" style=\"border-radius:10px;\">\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath());
      out.write("/resources/js/gridstack-all.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/resources/bootstrap/assets/vendor/multi-select/js/jquery.multi-select.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/resources/bootstrap/assets/libs/js/main-js.js\"></script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js\"></script>\r\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales-all.min.js\"></script>\r\n");
      out.write("<script src=\"https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js\"></script>\r\n");
      out.write("<link href=\"https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css\" rel=\"stylesheet\">\r\n");
      out.write("	\r\n");
      out.write("<script>\r\n");
      out.write("//그리그 고정옵션\r\n");
      out.write("let options = {\r\n");
      out.write("		   column: 12,\r\n");
      out.write("		   minRow: 2,\r\n");
      out.write("		   maxRow: 10,\r\n");
      out.write("		   cellHeight: 180,\r\n");
      out.write("		   float:true,\r\n");
      out.write("		   removable: '#trash'\r\n");
      out.write("		};\r\n");
      out.write("\r\n");
      out.write("var grid = GridStack.init(options); //초기화\r\n");
      out.write("\r\n");
      out.write("var allWidgetList = [];\r\n");
      out.write("var usedWidgetList = [];\r\n");
      out.write("\r\n");
      out.write("//삭제버튼\r\n");
      out.write("function f_removeBtn(e,dataLi) {\r\n");
      out.write("	var v_dataLi = dataLi;\r\n");
      out.write("	$('div[class=ms-selectable]>ul>li[data-li=\"'+dataLi+'\"]').attr('class','ms-elem-selectable').css('display','');\r\n");
      out.write("	$('div[class=ms-selection]>ul>li[data-li=\"'+dataLi+'\"]').attr('class','ms-elem-selection').css('display','none');\r\n");
      out.write("\r\n");
      out.write("	var obj = document.querySelector('div[data-li=\"'+dataLi+'\"]');\r\n");
      out.write("	var par = obj.parentNode;\r\n");
      out.write("	var gra = par.parentNode;\r\n");
      out.write("	\r\n");
      out.write("	var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("		if(v_usedWidgetList[i].id == 2){\r\n");
      out.write("			usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("// 			console.log(\"목록에서삭제\",usedWidgetList);\r\n");
      out.write("// 			console.log(\"위젯목록제거-공지제거에서 set\");\r\n");
      out.write("// 			localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	grid.removeWidget(gra);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//1.프로필\r\n");
      out.write("var f_addProfileWidget =()=>{\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write(" 		type:'get',\r\n");
      out.write(" 		url:'");
      out.print(request.getContextPath());
      out.write("/portlet/profile',\r\n");
      out.write(" 		success: (rslt)=>{\r\n");
      out.write(" 			var v_json=\r\n");
      out.write("			{\r\n");
      out.write(" 			    \"id\": 1,\r\n");
      out.write(" 			    \"w\": 3,\r\n");
      out.write(" 			    \"h\": 2,\r\n");
      out.write(" 			    \"noResize\": true,\r\n");
      out.write(" 			    \"noMove\": true,\r\n");
      out.write(" 			    \"locked\": true,\r\n");
      out.write(" 			    \"x\": 0,\r\n");
      out.write(" 			    \"y\": 0,\r\n");
      out.write(" 			    \"content\": `<div class=\"card border-3 border-top border-top-primary\" style=\"height:330px;\">\r\n");
      out.write(" 								<div class=\"card-body\">\r\n");
      out.write(" 									<div class=\"d-flex justify-content-center mt-2\">\r\n");
      out.write(" 										<div class=\"d-inline-block\"><button class=\"btn btn-rounded btn-primary btn-lg\">교수</button></div>\r\n");
      out.write("										&nbsp;&nbsp;&nbsp;\r\n");
      out.write("										<div class=\"d-inline-block\">\r\n");
      out.write("											<h3 style=\"padding-top:10px;\">\r\n");
      out.write("											<strong> 안녕하세요, <p class=\"d-inline text-primary\">");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loginUser.name}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("님!</p></strong>\r\n");
      out.write("											</h3>\r\n");
      out.write("										</div>\r\n");
      out.write(" 									</div>\r\n");
      out.write(" 									<div class=\"row d-flex\" style=\"padding: 20px 0px 0px 0px;\">\r\n");
      out.write(" 										<div class=\"col-xl-5\">\r\n");
      out.write(" 											<div class=\"user-avatar text-center d-block\">\r\n");
      out.write(" 												<span id=\"memImg\" class=\"manPicture\" data-anoCd=\"${rslt.anoCd}\"\r\n");
      out.write("												style=\"display:block; width:120px; height:120px; border-radius: 60px;\"></span>\r\n");
      out.write(" 											</div>\r\n");
      out.write(" 												<span class=\"d-flex justify-content-center\">\r\n");
      out.write(" 													<a href=\"javascript:void(0);\" onclick=\"pageMove('/ai/stu/aca/info.do')\">개인정보수정</a>\r\n");
      out.write(" 												</span>\r\n");
      out.write(" 											</div>\r\n");
      out.write(" 											<div class=\"col-xl-7 text-center\">\r\n");
      out.write(" 												<p class=\"alert alert-primary m-1\">`+rslt.colName+`<br>`+rslt.majorName+`</p>\r\n");
      out.write(" 												<p class=\"alert alert-primary m-1\"\r\n");
      out.write(" 												style=\"padding: 5px 5px 5px 5px;\">`+rslt.profPosiCd+`</p>\r\n");
      out.write(" 												<p class=\"alert alert-primary m-1\" style=\"padding: 5px 5px 5px 5px;\">교번&nbsp;");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${loginUser.memId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("</p>\r\n");
      out.write(" 											</div>\r\n");
      out.write(" 										</div>\r\n");
      out.write(" 										<div class=\"row d-flex justify-content-center m-2 mt-1\">\r\n");
      out.write(" 										<a href=\"javascript:void(0);\" onclick=\"f_editStart();\" class=\"\" data-toggle=\"modal\" data-target=\"#widgetModal\">\r\n");
      out.write(" 											<i class=\"fas fa-cog\">&nbsp;위젯편집</i>\r\n");
      out.write(" 										</a>\r\n");
      out.write(" 										&nbsp;&nbsp;&nbsp;\r\n");
      out.write(" 										<a onclick=\"saveGrid()\" href=\"javascript:void(0);\">\r\n");
      out.write(" 											<i class=\"fas fa-save\">&nbsp;저장</i>\r\n");
      out.write(" 											&nbsp;&nbsp;&nbsp;\r\n");
      out.write(" 										</a>\r\n");
      out.write(" 										<a href=\"javascript:void(0);\" onclick=\"javascript:grid.compact();\">\r\n");
      out.write(" 											<i class=\"fas fa-align-left\">&nbsp;정렬</i>\r\n");
      out.write(" 										</a>\r\n");
      out.write(" 									</div>\r\n");
      out.write(" 								</div>\r\n");
      out.write(" 							</div>`\r\n");
      out.write("			};\r\n");
      out.write(" 			usedWidgetList.push(v_json);\r\n");
      out.write(" 			grid.addWidget(v_json);\r\n");
      out.write(" 			localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write(" 			\r\n");
      out.write(" 			MemberPictureThumb(\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("\");\r\n");
      out.write(" 		},\r\n");
      out.write(" 		error: ()=>{\r\n");
      out.write(" 			AjaxErrorSecurityRedirectHandler(error.status);\r\n");
      out.write(" 		}\r\n");
      out.write(" 	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function f_editStart(){\r\n");
      out.write("	setTimeout(function(){\r\n");
      out.write("		var v_div = $('.grid-stack-item');\r\n");
      out.write("		v_div.each(function(){\r\n");
      out.write("			$(this).addClass('shakeCard');\r\n");
      out.write("		});\r\n");
      out.write("	},500);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function f_editEnd(){\r\n");
      out.write("	setTimeout(function(){\r\n");
      out.write("		var v_div = $('.grid-stack-item');\r\n");
      out.write("		v_div.each(function(){\r\n");
      out.write("			$(this).removeClass('shakeCard');\r\n");
      out.write("		});\r\n");
      out.write("	},200);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("var f_widgetTemplate = (title,bodyContent,paramId,dataLi) => {\r\n");
      out.write("	//id=notWid42 , data-li=noticeWidget42\r\n");
      out.write("// 	alert(\"된다...\");\r\n");
      out.write("	var v_card =\r\n");
      out.write("	`<div class=\"card\" id=\"`+paramId+`\" data-li=\"`+dataLi+`\" style=\"border:0px solid #7a80b4;\">\r\n");
      out.write("	<span class=\"row d-flex justify-content-between m-2\">\r\n");
      out.write("   		<span style=\"font-size:20px; \" class=\"d-flex align-items-end ml-2 mt-2\">\r\n");
      out.write("   			<i class=\"fas fa-star text-muted\">`+title+`</i>\r\n");
      out.write(" 		</span>\r\n");
      out.write("   		<div>\r\n");
      out.write("   			<a href=\"javascript:void(0);\" onclick=\"f_removeBtn(event,'`+dataLi+`')\">\r\n");
      out.write("   				<i class=\"fas fa-window-close\"></i>\r\n");
      out.write(" 			</a>\r\n");
      out.write(" 		</div>\r\n");
      out.write("		</span>\r\n");
      out.write("		`+bodyContent+`\r\n");
      out.write("</div>`;\r\n");
      out.write("return v_card;\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("//2.공지사항\r\n");
      out.write("var f_addNoticeWidget = (paramX,paramY) => {\r\n");
      out.write("// 	alert('공지추가');\r\n");
      out.write("	var v_json=\r\n");
      out.write("		{\r\n");
      out.write("	    \"id\": 2\r\n");
      out.write("	    };\r\n");
      out.write("	\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 2){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		method:'get',\r\n");
      out.write("		url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/portlet/notice',\r\n");
      out.write("		success: (rslt) => {\r\n");
      out.write("			//rslt로 들어오는 값 Map안에 포틀릿vo, noticeList portletVO(w,h),공지리스트\r\n");
      out.write("			var bodyContent = \r\n");
      out.write("		         `<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:286px;\">\r\n");
      out.write("	         		<table class=\"table table-hover\">\r\n");
      out.write("						<thead>\r\n");
      out.write("							<tr>\r\n");
      out.write("								<th scope=\"col\">#</th>\r\n");
      out.write("								<th scope=\"col\">제목</th>\r\n");
      out.write("								<th scope=\"col\">날짜</th>\r\n");
      out.write("							</tr>\r\n");
      out.write("						</thead>\r\n");
      out.write("						<tbody>`;\r\n");
      out.write("		    	for(i=0; i<rslt.scNoticeList.length; i++){\r\n");
      out.write("					var v_getDate = new Date(rslt.scNoticeList[i].cdate);\r\n");
      out.write("		    		var v_attendDate = f_transFormatToDate(v_getDate);\r\n");
      out.write("	    			bodyContent += \r\n");
      out.write("							`<tr style=\"cursor:pointer;\"\r\n");
      out.write("								onclick=\"pageMove('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/common/notice/detail.do?scNno=${rslt.scNoticeList[i].scNno}')\">\r\n");
      out.write("								<td><span class=\"badge badge-primary\">공지</span></td>\r\n");
      out.write("								<td class=\"table-title\">${rslt.scNoticeList[i].title}</td>\r\n");
      out.write("								<td>${v_attendDate}</td>\r\n");
      out.write("							</tr>`;\r\n");
      out.write("		   		}\r\n");
      out.write("		    	bodyContent +=\r\n");
      out.write("						`</tbody>\r\n");
      out.write("					</table>\r\n");
      out.write("				</div>`;\r\n");
      out.write("\r\n");
      out.write("			var noticeWidget = f_widgetTemplate('&nbsp;학사공지',bodyContent,'notWid','noticeWidget');\r\n");
      out.write("			\r\n");
      out.write("			if(paramX != null && paramY != null){\r\n");
      out.write("				console.log(\"공지 if 들어오나요\");\r\n");
      out.write("				console.log(paramX);\r\n");
      out.write("				console.log(paramY);\r\n");
      out.write("				v_json.x = paramX;\r\n");
      out.write("				v_json.y = paramY;\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("			v_json.content=noticeWidget; \r\n");
      out.write("			usedWidgetList.push(v_json); //배열추가 \r\n");
      out.write("			grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("			localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("			\r\n");
      out.write("			$('div[class=ms-selectable]>ul>li[data-li=\"noticeWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("			$('div[class=ms-selection]>ul>li[data-li=\"noticeWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("			\r\n");
      out.write("		}, \r\n");
      out.write("		error: () => {\r\n");
      out.write("			AjaxErrorSecurityRedirectHandler(error.status);\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//3.학사일정 캘린더\r\n");
      out.write("var f_addCalendarWidget = (paramX,paramY) => {\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 3\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 3){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var bodyContent = \r\n");
      out.write("		`<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:655px;\">\r\n");
      out.write("			<iframe src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/common/scSchedule/calendar/mini\" scrolling=\"no\" style=\"overflow-y:hidden;\" width=\"100%\" height=\"100%\" frameborder=\"0\"></iframe>\r\n");
      out.write("		</div>`;\r\n");
      out.write("\r\n");
      out.write("	\r\n");
      out.write("	var calWidget = f_widgetTemplate('&nbsp;학사일정',bodyContent,'calWid','calWidget');\r\n");
      out.write("	\r\n");
      out.write("	if(paramX != null && paramY != null){\r\n");
      out.write("		v_json.x = paramX; \r\n");
      out.write("		v_json.y = paramY;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	v_json.content=calWidget; \r\n");
      out.write("	usedWidgetList.push(v_json); //배열추가\r\n");
      out.write("	grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("	console.log(\"캘린더추가 펑션에서 set\");\r\n");
      out.write("	localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("	\r\n");
      out.write("	$('div[class=ms-selectable]>ul>li[data-li=\"calWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("	$('div[class=ms-selection]>ul>li[data-li=\"calWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//4.버스노선도\r\n");
      out.write("var f_addBusWidget = (paramX,paramY) => {\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 4\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 4){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var bodyContent = \r\n");
      out.write("		`<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:286px;\">\r\n");
      out.write("			<img id=\"busImg\" src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/resources/img/bus.jpg\" alt=\"건영대학교 셔틀버스 노선도\" height=\"260px\">\r\n");
      out.write("		</div>`;\r\n");
      out.write("		\r\n");
      out.write("	var busWidget = f_widgetTemplate('&nbsp;셔틀버스 노선도',bodyContent,'busWid','busWidget');\r\n");
      out.write("	\r\n");
      out.write("	if(paramX != null && paramY != null){\r\n");
      out.write("		v_json.x = paramX; \r\n");
      out.write("		v_json.y = paramY;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	v_json.content=busWidget; \r\n");
      out.write("	usedWidgetList.push(v_json); //배열추가 \r\n");
      out.write("	grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("	localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	let v_img = document.querySelector('#busImg');\r\n");
      out.write("	let v_div = document.querySelector('#busOrignDiv');\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	$('div[class=ms-selectable]>ul>li[data-li=\"busWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("	$('div[class=ms-selection]>ul>li[data-li=\"busWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//5.날씨\r\n");
      out.write("var f_addWeatherWidget = (paramX,paramY) => {\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 5,\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 5){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var bodyContent = \r\n");
      out.write("		`<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:286px;\">\r\n");
      out.write("			<iframe width=\"100%\" height=\"100%\" src=\"https://forecast.io/embed/#lat=36.325029&lon=127.408951&name=대전 중구 오류동 &color=#cce5ff&font=arial&units=si\" frameborder=\"0\"></iframe>\r\n");
      out.write("		</div>`;\r\n");
      out.write("		\r\n");
      out.write("	var weatherWidget = f_widgetTemplate('&nbsp;날씨',bodyContent,'weatherWid','weatherWidget');\r\n");
      out.write("	\r\n");
      out.write("	if(paramX != null && paramY != null){\r\n");
      out.write("		v_json.x = paramX; \r\n");
      out.write("		v_json.y = paramY;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	v_json.content=weatherWidget; \r\n");
      out.write("	usedWidgetList.push(v_json); //배열추가 \r\n");
      out.write("	grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("	localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("	\r\n");
      out.write("	$('div[class=ms-selectable]>ul>li[data-li=\"weatherWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("	$('div[class=ms-selection]>ul>li[data-li=\"weatherWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//6.북마크\r\n");
      out.write("var f_addBookmarkWidget = (paramX,paramY) => {\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("	   \"id\": 6\r\n");
      out.write("// 	   \"noResize\": true\r\n");
      out.write("	};\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 6){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var bodyContent = \r\n");
      out.write("		`<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:286px;\">\r\n");
      out.write("			<ul class=\"list-group\">\r\n");
      out.write("				<li class=\"list-group-item d-flex justify-content-start align-items-center\">\r\n");
      out.write("				<a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/prof/lec/counsel/stu/list.do\"><span class=\"h5 fas fa-star text-warning\">지도학생목록</span></a>\r\n");
      out.write("				</li>\r\n");
      out.write("				<li class=\"list-group-item d-flex justify-content-start align-items-center\">\r\n");
      out.write("				<a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/prof/lec/counsel/stu/list.do\"><span class=\"h5 fas fa-star text-warning\">상담신청관리</span></a>\r\n");
      out.write("				</li>\r\n");
      out.write("				<li class=\"list-group-item d-flex justify-content-start align-items-center\">\r\n");
      out.write("				<a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/prof/lec/counsel/stu/list.do\"><span class=\"h5 fas fa-star text-warning\">강의목록</span></a>\r\n");
      out.write("				</li>\r\n");
      out.write("				<li class=\"list-group-item d-flex justify-content-start align-items-center\">\r\n");
      out.write("				<a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/prof/lec/counsel/stu/list.do\"><span class=\"h5 fas fa-star text-warning\">학사일정</span></a>\r\n");
      out.write("				\r\n");
      out.write("				</li>\r\n");
      out.write("			</ul>\r\n");
      out.write("		</div>`;\r\n");
      out.write("		\r\n");
      out.write("	var bookmarkWidget = f_widgetTemplate('&nbsp;바로가기',bodyContent,'bookmarkWid','bookmarkWidget');\r\n");
      out.write("	\r\n");
      out.write("	if(paramX != null && paramY != null){\r\n");
      out.write("		v_json.x = paramX; \r\n");
      out.write("		v_json.y = paramY;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	v_json.content=bookmarkWidget; \r\n");
      out.write("	usedWidgetList.push(v_json); //배열추가 \r\n");
      out.write("	grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("	console.log(\"날씨추가 펑션에서 set\");\r\n");
      out.write("	console.log(\"추가\",usedWidgetList);\r\n");
      out.write("	localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	$('div[class=ms-selectable]>ul>li[data-li=\"bookmarkWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("	$('div[class=ms-selection]>ul>li[data-li=\"bookmarkWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//7.강의시간표\r\n");
      out.write("var f_addTimetableWidget = (paramX,paramY) => {\r\n");
      out.write("// 	alert('공지추가');\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 7\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 7){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	console.log(\"강의시간표크기\",v_json);\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		method:'get',\r\n");
      out.write("		url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/portlet/proftimetable',\r\n");
      out.write("		success: (rslt) => {\r\n");
      out.write("			var v_rslt = JSON.stringify(rslt.lectureList);\r\n");
      out.write("			console.log(rslt.lectureList);\r\n");
      out.write("			var bodyContent = \r\n");
      out.write("		         `<div class=\"card-body\" style=\"overflow-y:hidden; overflow-x:hidden; height:655px;\">\r\n");
      out.write("					<table class=\"table table-bordered \">\r\n");
      out.write("					 <thead>\r\n");
      out.write("					    <tr class=\"text-center\">\r\n");
      out.write("					     <th scope=\"col\" style=\"width:10%\">시간</th>\r\n");
      out.write("					     <th scope=\"col\" style=\"width:18%\">월</th>\r\n");
      out.write("					     <th scope=\"col\" style=\"width:18%\">화</th>\r\n");
      out.write("					     <th scope=\"col\" style=\"width:18%\">수</th>\r\n");
      out.write("					     <th scope=\"col\" style=\"width:18%\">목</th>\r\n");
      out.write("					     <th scope=\"col\" style=\"width:18%\">금</th>\r\n");
      out.write("					   </tr>\r\n");
      out.write("					 </thead>\r\n");
      out.write("					 <tbody class=\"text-center\">`;\r\n");
      out.write("					 \r\n");
      out.write("					\r\n");
      out.write("			var a_day = [\"월\",\"화\",\"수\",\"목\",\"금\"];\r\n");
      out.write("				for(var time=9; time<18; time++){\r\n");
      out.write("					bodyContent += \r\n");
      out.write("					   `<tr>\r\n");
      out.write("					    	<th scope=\"row\" ><div style=\"height: 41px\">`+time+`~`+(time+1)+`</div></th>`;\r\n");
      out.write("						for(var i=0; i<5; i++){\r\n");
      out.write("							bodyContent += \r\n");
      out.write("							`<td id=\"`+a_day[i]+``+time+`\"></td>`;\r\n");
      out.write("							\r\n");
      out.write("						}						\r\n");
      out.write("					bodyContent += \r\n");
      out.write("					   `</tr>`;\r\n");
      out.write("				}					\r\n");
      out.write("				bodyContent += \r\n");
      out.write("					 `</tbody>\r\n");
      out.write("					</table>\r\n");
      out.write("				</div>`;\r\n");
      out.write("\r\n");
      out.write("			\r\n");
      out.write("			var timeWidget = f_widgetTemplate('&nbsp;수업시간표',bodyContent,'timeWid','timeWidget');\r\n");
      out.write("			\r\n");
      out.write("			if(paramX != null && paramY != null){\r\n");
      out.write("				v_json.x = paramX; \r\n");
      out.write("				v_json.y = paramY;\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("			v_json.content=timeWidget; \r\n");
      out.write("			usedWidgetList.push(v_json); //배열추가\r\n");
      out.write("			grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("			console.log(\"시간표추가 펑션에서 set\");\r\n");
      out.write("			localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("			\r\n");
      out.write("			var colorArray = ['#ffafb0','#fcffb0','#aee4ff','#b5c7ed','#fcc6f7','#bee9b4','#ffe4af','#A9A0FC','#8AV481'];\r\n");
      out.write("			\r\n");
      out.write("			for(var i=0; i<rslt.lectureList.length; i++){\r\n");
      out.write("				var index = i;\r\n");
      out.write("			 	var color = colorArray[i];\r\n");
      out.write("				\r\n");
      out.write("				var lecCd = rslt.lectureList[i].lecCd;\r\n");
      out.write("				var name = rslt.lectureList[i].name;\r\n");
      out.write("				var lecDate1 = rslt.lectureList[i].lecDate1;\r\n");
      out.write("				var lecDate2 = rslt.lectureList[i].lecDate2;\r\n");
      out.write("				var classroom=rslt.lectureList[i].classroom;\r\n");
      out.write("				var subjCd=rslt.lectureList[i].subjCd;\r\n");
      out.write("				var subjName=rslt.lectureList[i].subjName;\r\n");
      out.write("// 				if(subjName.length > 6){\r\n");
      out.write("// 					subjName = subjName.substring(0,9)+\"...\";\r\n");
      out.write("// 				}\r\n");
      out.write("				\r\n");
      out.write("				var htmlStr = \"<span style='font-size:0.8em;'>\"+subjName+\"</span><br>\";\r\n");
      out.write("// 					htmlStr +=\"<span>\"+classroom+\"</span>\";\r\n");
      out.write("				\r\n");
      out.write("				var firstDay = lecDate1.substring(0,1);\r\n");
      out.write("				var firStartTime =lecDate1.substring(2,4);\r\n");
      out.write("				var firEndTime = lecDate1.substring(10,12);\r\n");
      out.write("				for(var j=firStartTime; j<firEndTime; j++){\r\n");
      out.write("					var id = \"#\"+firstDay+j;\r\n");
      out.write("// 					console.log(\"for문 id확인\",id);\r\n");
      out.write("// 					console.log(\"for문 color\",color);\r\n");
      out.write("// 					console.log(\"for문 name\",name);\r\n");
      out.write("					$(id).css(\"backgroundColor\",color);\r\n");
      out.write("// 					$(id).attr(\"title\",name+\" 교수님\");\r\n");
      out.write("					$(id).html(htmlStr);\r\n");
      out.write("				}\r\n");
      out.write("				\r\n");
      out.write("				if(lecDate2){\r\n");
      out.write("					\r\n");
      out.write("					var secondDay = lecDate2.substring(0,1);\r\n");
      out.write("					var secStartTime =lecDate2.substring(2,4);\r\n");
      out.write("					var secEndTime = lecDate2.substring(10,12);	\r\n");
      out.write("					for(var k=secStartTime; k<secEndTime; k++){\r\n");
      out.write("						var id = '#'+secondDay+k;\r\n");
      out.write("	// 					console.log(\"for문2 id확인\",id);\r\n");
      out.write("	// 					console.log(\"for문2 color\",color);\r\n");
      out.write("	// 					console.log(\"for문2 name\",name);\r\n");
      out.write("						$(id).css(\"backgroundColor\",color);\r\n");
      out.write("	// 					$(id).attr(\"title\",name+\" 교수님\");	\r\n");
      out.write("						$(id).html(htmlStr);\r\n");
      out.write("					}\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("			$('div[class=ms-selectable]>ul>li[data-li=\"timeWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("			$('div[class=ms-selection]>ul>li[data-li=\"timeWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("			\r\n");
      out.write("		}, \r\n");
      out.write("		error: () => {\r\n");
      out.write("			AjaxErrorSecurityRedirectHandler(error.status);\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("//8.지도학생관리\r\n");
      out.write("var f_addCounselWidget = (paramX,paramY) => {\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 8\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 8){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("\r\n");
      out.write("	var bodyContent = \r\n");
      out.write("         `<div class=\"card-body row justify-content-center\" style=\"overflow-y:hidden; overflow-x:hidden; height:287px;\">\r\n");
      out.write("         	<canvas id=\"counselChart\" style=\"height:30vh;\"></canvas>\r\n");
      out.write("         </div>`;\r\n");
      out.write("\r\n");
      out.write("        \r\n");
      out.write("		var counselWidget = f_widgetTemplate('&nbsp;지도학생상태',bodyContent,'counselWid','counselWidget');\r\n");
      out.write("		\r\n");
      out.write("		if(paramX != null && paramY != null){\r\n");
      out.write("			v_json.x = paramX; \r\n");
      out.write("			v_json.y = paramY;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		v_json.content=counselWidget; \r\n");
      out.write("		usedWidgetList.push(v_json); //배열추가\r\n");
      out.write("		grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("		console.log(\"시간표추가 펑션에서 set\");\r\n");
      out.write("		localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("		\r\n");
      out.write("		const ctx = document.getElementById('counselChart').getContext('2d');\r\n");
      out.write("		\r\n");
      out.write("		const a_labels = ['양호','위험','경고'];\r\n");
      out.write("		const a_data = [5,2,1];\r\n");
      out.write("		const a_bgcolor = ['#B4ED4C','#FFF26D','#FF7B67'];\r\n");
      out.write("		\r\n");
      out.write("		const data = {\r\n");
      out.write("		  labels: a_labels,\r\n");
      out.write("		  datasets: [\r\n");
      out.write("		    {\r\n");
      out.write("		      label: 'Dataset 1',\r\n");
      out.write("		      data: a_data,\r\n");
      out.write("		      backgroundColor:a_bgcolor,\r\n");
      out.write("		    }\r\n");
      out.write("		  ]\r\n");
      out.write("		};\r\n");
      out.write("		\r\n");
      out.write("	    const counselChart = new Chart(ctx, {\r\n");
      out.write("			  type: 'doughnut',\r\n");
      out.write("			  data: data,\r\n");
      out.write("			  options: {\r\n");
      out.write("				  responsive: false,\r\n");
      out.write("				    plugins: {\r\n");
      out.write("				      legend: {\r\n");
      out.write("				        position: 'right',\r\n");
      out.write("				      },\r\n");
      out.write("// 				      title: {\r\n");
      out.write("// 				        display: true,\r\n");
      out.write("// 				        text: 'Chart.js Doughnut Chart'\r\n");
      out.write("// 				      }\r\n");
      out.write("				    }\r\n");
      out.write("			  },\r\n");
      out.write("	    });\r\n");
      out.write("		\r\n");
      out.write("		$('div[class=ms-selectable]>ul>li[data-li=\"counselWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("		$('div[class=ms-selection]>ul>li[data-li=\"counselWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("		\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//9.과제제출현황\r\n");
      out.write("var f_addAssignWidget = (paramX,paramY) => {\r\n");
      out.write("// 	alert('공지추가');\r\n");
      out.write("	var v_json=\r\n");
      out.write("	{\r\n");
      out.write("    \"id\": 9,\r\n");
      out.write("    };\r\n");
      out.write("	var v_allWidgetList = JSON.parse(localStorage.getItem(\"allWidgetList\"));\r\n");
      out.write("	for(var i = 0; i<v_allWidgetList.length; i++){\r\n");
      out.write("		if(v_allWidgetList[i].id == 9){\r\n");
      out.write("			v_json.w = v_allWidgetList[i].w;\r\n");
      out.write("			v_json.h = v_allWidgetList[i].h;\r\n");
      out.write("			v_json.noResize = v_allWidgetList[i].noResize;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		method:'get',\r\n");
      out.write("		url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/portlet/assignment',\r\n");
      out.write("		success: (rslt) => {\r\n");
      out.write("// 			console.log(rslt.lectureList);\r\n");
      out.write("			var v_rslt = JSON.stringify(rslt);\r\n");
      out.write("			var bodyContent = \r\n");
      out.write("		         `<div class=\"card-body row justify-content-center\" style=\"overflow-y:hidden; overflow-x:hidden; height:287px;\">\r\n");
      out.write("		         	<canvas id=\"assignChart\" style=\"width:250px;\"></canvas>\r\n");
      out.write("		         </div>`;\r\n");
      out.write("\r\n");
      out.write("	        \r\n");
      out.write("			var assignWidget = f_widgetTemplate('&nbsp;과제제출현황(%)',bodyContent,'assignWid','assignWidget');\r\n");
      out.write("			\r\n");
      out.write("			if(paramX != null && paramY != null){\r\n");
      out.write("				v_json.x = paramX; \r\n");
      out.write("				v_json.y = paramY;\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("			v_json.content=assignWidget; \r\n");
      out.write("			usedWidgetList.push(v_json); //배열추가\r\n");
      out.write("			grid.addWidget(v_json);		//위젯추가\r\n");
      out.write("			console.log(\"시간표추가 펑션에서 set\");\r\n");
      out.write("			localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList)); //로컬스토리지추가\r\n");
      out.write("			\r\n");
      out.write("			const ctx = document.getElementById('assignChart').getContext('2d');\r\n");
      out.write("			\r\n");
      out.write("			const a_labels = [];\r\n");
      out.write("			for(var i=0; i<rslt.length; i++){\r\n");
      out.write("				a_labels.push(rslt[i].subjName);\r\n");
      out.write("			}\r\n");
      out.write("			const a_data = [];\r\n");
      out.write("			const a_bgcolor = [];\r\n");
      out.write("			for(var i=0; i<rslt.length; i++){\r\n");
      out.write("				var per = Math.round((rslt[i].submitCount / rslt[i].stuNum) * 100) ;\r\n");
      out.write("				a_data.push(per);\r\n");
      out.write("				const r = Math.floor(Math.random()*256);\r\n");
      out.write("				const g = Math.floor(Math.random()*256);\r\n");
      out.write("				const b = Math.floor(Math.random()*256);\r\n");
      out.write("				a_bgcolor.push('rgba('+r+','+g+','+b+',0.4)');\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("			const data = {\r\n");
      out.write("			  labels: a_labels,\r\n");
      out.write("			  datasets: [\r\n");
      out.write("			    {\r\n");
      out.write("			      label: 'Dataset 1',\r\n");
      out.write("			      data: a_data,\r\n");
      out.write("			      backgroundColor:a_bgcolor,\r\n");
      out.write("			    }\r\n");
      out.write("			  ]\r\n");
      out.write("			};\r\n");
      out.write("			\r\n");
      out.write("		    const assignChart = new Chart(ctx, {\r\n");
      out.write("   			  type: 'polarArea',\r\n");
      out.write("   			  data: data,\r\n");
      out.write("   			  options: {\r\n");
      out.write("   			    responsive: false,\r\n");
      out.write("   			    scales: { \r\n");
      out.write("// 	   			      r: {\r\n");
      out.write("// 	   			        pointLabels: {\r\n");
      out.write("// 	   			          display: false,\r\n");
      out.write("// 	   			          centerPointLabels: true,\r\n");
      out.write("// 	   			          font: {\r\n");
      out.write("// 	   			            size: 15\r\n");
      out.write("// 	   			          }\r\n");
      out.write("// 	   			        }\r\n");
      out.write("// 	   			      },\r\n");
      out.write("   			    	  ticks:{\r\n");
      out.write("//    			    		  beginAtZero:true,\r\n");
      out.write("// 	   			    	  min:0,\r\n");
      out.write("	   			    	  max:100,\r\n");
      out.write("	   			    	  stepSize: 20\r\n");
      out.write("   			    	  }\r\n");
      out.write("   			    },\r\n");
      out.write("   			    plugins: {\r\n");
      out.write("   			    }\r\n");
      out.write("   			  },\r\n");
      out.write("		    });\r\n");
      out.write("			\r\n");
      out.write("			$('div[class=ms-selectable]>ul>li[data-li=\"assignWidget\"]').attr('class','ms-elem-selectable ms-selected').css('display','none');\r\n");
      out.write("			$('div[class=ms-selection]>ul>li[data-li=\"assignWidget\"]').attr('class','ms-elem-selection ms-selected').css('display','');\r\n");
      out.write("			\r\n");
      out.write("		}, \r\n");
      out.write("		error: () => {\r\n");
      out.write("			AjaxErrorSecurityRedirectHandler(error.status);\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//윈도우 온로드\r\n");
      out.write("window.onload = function(){\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type:'get',\r\n");
      out.write("		url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/portlet/list',\r\n");
      out.write("		success: (rslt) => {\r\n");
      out.write("			localStorage.setItem(\"allWidgetList\",JSON.stringify(rslt.allPoList));\r\n");
      out.write("			if(rslt.poList.length == 0){\r\n");
      out.write("				//'최초로그인/커스텀한 적이 없는 유저는 기본위젯세팅'\r\n");
      out.write("				f_addProfileWidget();\r\n");
      out.write("				for(var i = 0; i<rslt.allPoList.length; i++){\r\n");
      out.write("					console.log(\"들어오나용\");\r\n");
      out.write("					if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 2){\r\n");
      out.write("						f_addNoticeWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 3){\r\n");
      out.write("						f_addCalendarWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 4){\r\n");
      out.write("						f_addBusWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 5){\r\n");
      out.write("						f_addWeatherWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 6){\r\n");
      out.write("						f_addBookmarkWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 7){\r\n");
      out.write("						f_addTimetableWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 8){\r\n");
      out.write("						f_addCounselWidget();\r\n");
      out.write("					}else if(rslt.allPoList[i].defaultCd == \"Y\" && rslt.allPoList[i].id == 9){\r\n");
      out.write("						f_addAssignWidget();\r\n");
      out.write("					}\r\n");
      out.write("								\r\n");
      out.write("				}\r\n");
      out.write("			}else{\r\n");
      out.write("				//커스텀한 적 있는 유저는 selected된 위젯만 불러온다\r\n");
      out.write("				f_addProfileWidget(); //필수 프로필\r\n");
      out.write("				for(var i = 0; i<rslt.poList.length; i++){\r\n");
      out.write("					switch(rslt.poList[i].id){\r\n");
      out.write("					case 2:\r\n");
      out.write("						//학사공지\r\n");
      out.write("						f_addNoticeWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 3:\r\n");
      out.write("						//학사일정\r\n");
      out.write("						f_addCalendarWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 4:\r\n");
      out.write("						//버스노선도\r\n");
      out.write("						f_addBusWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 5:\r\n");
      out.write("						//날씨\r\n");
      out.write("						f_addWeatherWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 6:\r\n");
      out.write("						//북마크\r\n");
      out.write("						f_addBookmarkWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 7:\r\n");
      out.write("						//강의시간표\r\n");
      out.write("						f_addTimetableWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 8:\r\n");
      out.write("						//지도학생관리\r\n");
      out.write("						f_addCounselWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("					case 9:\r\n");
      out.write("						//과제제출현황\r\n");
      out.write("						f_addAssignWidget(rslt.poList[i].x,rslt.poList[i].y);\r\n");
      out.write("						break;\r\n");
      out.write("						\r\n");
      out.write("					}\r\n");
      out.write("				}\r\n");
      out.write("				\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		error: () => {\r\n");
      out.write("			AjaxErrorSecurityRedirectHandler(error.status);\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("\r\n");
      out.write("//위젯추가, 삭제 (ajax로 수정해야됨)\r\n");
      out.write("$('#callbacks').multiSelect({\r\n");
      out.write("	afterSelect: function(values) {\r\n");
      out.write("		var data_li = $('option[value='+values+']').attr('data-li');\r\n");
      out.write("		\r\n");
      out.write("		if(values == 'notWid' || $('#notWid') == null){\r\n");
      out.write("			f_addNoticeWidget();\r\n");
      out.write("        }else if(values == 'calWid' || $('#calWid') == null){\r\n");
      out.write("        	f_addCalendarWidget();\r\n");
      out.write("        }else if(values == 'busWid' || $('#busWid') == null){\r\n");
      out.write("        	f_addBusWidget();\r\n");
      out.write("        }else if(values == 'weatherWid' || $('#weatherWid') == null){\r\n");
      out.write("        	f_addWeatherWidget();\r\n");
      out.write("        }else if(values == 'bookmarkWid' || $('#bookmarkWid') == null){\r\n");
      out.write("        	f_addBookmarkWidget();\r\n");
      out.write("        }else if(values == 'timeWid' || $('#timeWid') == null){\r\n");
      out.write("        	f_addTimetableWidget();\r\n");
      out.write("        }else if(values == 'counselWid' || $('#counselWid') == null){\r\n");
      out.write("        	f_addCounselWidget();\r\n");
      out.write("        }else if(values == 'assignWid' || $('#assignWid') == null){\r\n");
      out.write("        	f_addAssignWidget();\r\n");
      out.write("        }\r\n");
      out.write("	},\r\n");
      out.write("    afterDeselect: function(values) {\r\n");
      out.write("    	if(values == 'notWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#notWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 2){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("    		\r\n");
      out.write("    	}else if(values == 'calWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#calWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'busWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#busWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'weatherWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#weatherWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'bookmarkWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#bookmarkWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'timeWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#timeWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'counselWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#counselWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}else if(values == 'assignWid'){\r\n");
      out.write("			var obj = document.querySelector(\"#assignWid\");\r\n");
      out.write("			var par = obj.parentNode;\r\n");
      out.write("			var gra = par.parentNode;\r\n");
      out.write("			\r\n");
      out.write("			var v_usedWidgetList = JSON.parse(localStorage.getItem(\"usedWidgetList\"));\r\n");
      out.write("			\r\n");
      out.write("			for(var i = 0; i<v_usedWidgetList.length; i++){\r\n");
      out.write("				if(v_usedWidgetList[i].id == 7){\r\n");
      out.write("					usedWidgetList = usedWidgetList.splice(i);\r\n");
      out.write("					localStorage.setItem(\"usedWidgetList\",JSON.stringify(usedWidgetList));\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("			grid.removeWidget(gra);\r\n");
      out.write("			\r\n");
      out.write("    	}\r\n");
      out.write("   			\r\n");
      out.write("	}\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("//저장기능 ajax put\r\n");
      out.write("saveGrid = () => {\r\n");
      out.write("   serializedData = grid.save();\r\n");
      out.write("//    document.querySelector('#saved-data').value = JSON.stringify(serializedData, null, '  ');\r\n");
      out.write("	   //컨트롤러 가서 데이터있는지 조회하고 없으면 insert부터\r\n");
      out.write("   $.ajax({\r\n");
      out.write("		method:'post',\r\n");
      out.write("		url:'");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${webPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/portlet/save',\r\n");
      out.write("		data: JSON.stringify(serializedData),\r\n");
      out.write("		contentType: 'application/json',\r\n");
      out.write("		success: (rslt) => {\r\n");
      out.write("// 			alert('위젯 배치가 저장됐습니다.');\r\n");
      out.write("			Swal.fire(\r\n");
      out.write("					  '저장성공!',\r\n");
      out.write("					  '',\r\n");
      out.write("					  'success'\r\n");
      out.write("					);\r\n");
      out.write("		},\r\n");
      out.write("		error: () => {\r\n");
      out.write("			AjaxErrorSecurityRedirectHandler(error.status);			\r\n");
      out.write("		}\r\n");
      out.write("   });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("//자동정렬   \r\n");
      out.write("compact = () => {\r\n");
      out.write("   grid.compact();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("} //window.onload끝\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("	$('#keep-order').multiSelect({ keepOrder: true });\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("    $('#public-methods').multiSelect();\r\n");
      out.write("    $('#select-all').click(function() {\r\n");
      out.write("        $('#public-methods').multiSelect('select_all');\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("    $('#deselect-all').click(function() {\r\n");
      out.write("        $('#public-methods').multiSelect('deselect_all');\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("    $('#select-100').click(function() {\r\n");
      out.write("        $('#public-methods').multiSelect('select', ['elem_0', 'elem_1'..., 'elem_99']);\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("    $('#deselect-100').click(function() {\r\n");
      out.write("        $('#public-methods').multiSelect('deselect', ['elem_0', 'elem_1'..., 'elem_99']);\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("    $('#refresh').on('click', function() {\r\n");
      out.write("        $('#public-methods').multiSelect('refresh');\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("    $('#add-option').on('click', function() {\r\n");
      out.write("        $('#public-methods').multiSelect('addOption', { value: 42, text: 'test 42', index: 0 });\r\n");
      out.write("        return false;\r\n");
      out.write("    });\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("    $('#optgroup').multiSelect({ selectableOptgroup: true });\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("    $('#disabled-attribute').multiSelect();\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("    $('#custom-headers').multiSelect({\r\n");
      out.write("        selectableHeader: \"<div class='custom-header'>Selectable items</div>\",\r\n");
      out.write("        selectionHeader: \"<div class='custom-header'>Selection items</div>\",\r\n");
      out.write("        selectableFooter: \"<div class='custom-header'>Selectable footer</div>\",\r\n");
      out.write("        selectionFooter: \"<div class='custom-header'>Selection footer</div>\"\r\n");
      out.write("    });\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-23581568-13\"></script>\r\n");
      out.write("<script>\r\n");
      out.write("  window.dataLayer = window.dataLayer || [];\r\n");
      out.write("  function gtag(){dataLayer.push(arguments);}\r\n");
      out.write("  gtag('js', new Date());\r\n");
      out.write("\r\n");
      out.write("  gtag('config', 'UA-23581568-13');\r\n");
      out.write("</script>\r\n");
      out.write("<script defer src=\"https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194\" integrity=\"sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==\" data-cf-beacon='{\"rayId\":\"75c993dfdd16af8e\",\"token\":\"cd0b4b3a733644fc843ef0b185f98241\",\"version\":\"2022.10.3\",\"si\":100}' crossorigin=\"anonymous\"></script>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
